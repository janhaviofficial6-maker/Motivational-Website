<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mood-Based Motivation Generator</title>
  <meta name="description" content="Select your mood ‚Äî get an automatically generated motivating thought." />
  <style>
    /* Simple, modern styling with glassmorphism and responsive layout */
    :root{
      --bg1: #0f172a; /* fallback */
      --glass: rgba(255,255,255,0.07);
      --accent: #7c3aed;
      --accent-2: #06b6d4;
      --radius: 14px;
      color-scheme: light dark;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }

    html,body{height:100%;margin:0;padding:0}
    body{
      display:flex;align-items:center;justify-content:center;
      min-height:100vh;background:linear-gradient(135deg,var(--bg1) 0%, #001f3f 100%);
      background-attachment:fixed;padding:24px;box-sizing:border-box;
    }

    .container{
      width:100%;max-width:980px;background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:20px;padding:20px;box-shadow:0 10px 30px rgba(2,6,23,0.6);backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.03);
    }

    header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:18px}
    header h1{font-size:20px;margin:0;color: #fff}
    header p{margin:0;color: #cbd5e1;font-size:13px}

    .mood-grid{
      display:grid;gap:10px;grid-template-columns:repeat(auto-fit, minmax(120px,1fr));margin-bottom:18px
    }

    .mood-btn{
      background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius:12px;padding:14px;display:flex;flex-direction:column;align-items:flex-start;gap:8px;border:1px solid rgba(255,255,255,0.04);
      cursor:pointer;transition:transform .18s ease, box-shadow .18s ease;
      color:#e6eef8;
    }
    .mood-btn:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(2,6,23,0.6)}
    .mood-emoji{font-size:22px}
    .mood-name{font-weight:600}
    .mood-desc{font-size:12px;color:#9fb0cc}

    .card{
      margin-top:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:18px;border:1px solid rgba(255,255,255,0.03);
      min-height:110px;display:flex;flex-direction:column;gap:10px;align-items:flex-start;justify-content:center;color:#f8fafc
    }

    .thought{
      font-size:18px;line-height:1.4;margin:0;font-weight:600
    }
    .thought-small{font-size:13px;color:#cbd5e1;margin:0}

    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    button.btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff}

    .fav-list{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
    .chip{background:rgba(255,255,255,0.03);padding:8px 10px;border-radius:999px;font-size:13px;color:#e6eef8}

    footer{margin-top:14px;color:#9fb0cc;font-size:13px;display:flex;justify-content:space-between;align-items:center}

    /* mood background helper classes (animated subtle gradient) */
    .bg-happy{background:linear-gradient(135deg,#ffecd2 0%, #fcb69f 100%)}
    .bg-sad{background:linear-gradient(135deg,#dfe9f3 0%, #ffffff 100%)}
    .bg-tired{background:linear-gradient(135deg,#cfd9df 0%, #e2ebf0 100%)}
    .bg-lazy{background:linear-gradient(135deg,#f3e8ff 0%, #e9d5ff 100%)}
    .bg-study{background:linear-gradient(135deg,#e0f2fe 0%, #bae6fd 100%)}
    .bg-stress{background:linear-gradient(135deg,#fde68a 0%, #fca5a5 100%)}
    .bg-angry{background:linear-gradient(135deg,#fecaca 0%, #fda4af 100%)}
    .bg-heart{background:linear-gradient(135deg,#fce7f3 0%, #fbcfe8 100%)}

    /* small screens */
    @media (max-width:600px){
      .container{padding:14px}
      .thought{font-size:16px}
    }
  </style>
</head>
<body>
  <div class="container" id="app">
    <header>
      <div>
        <h1>VibeFuel ‚Äî Mood-Based Motivation</h1>
        <p>Tap a mood and get a perfect thought automatically ‚ú®</p>
      </div>
      <div>
        <small id="date"></small>
      </div>
    </header>

    <section>
      <div class="mood-grid" id="moodGrid">
        <!-- Mood buttons generated by JS -->
      </div>

      <div class="card" id="outputCard" aria-live="polite">
        <p class="thought" id="thoughtText">Select a mood to get a motivating thought.</p>
        <p class="thought-small" id="thoughtSub">You can save favorites, copy, or generate another one.</p>

        <div class="controls">
          <button class="btn primary" id="genBtn">Generate Again</button>
          <button class="btn ghost" id="copyBtn">Copy</button>
          <button class="btn ghost" id="saveBtn">‚ù§ Save</button>
          <button class="btn ghost" id="shareBtn">Share</button>
        </div>

        <div class="fav-list" id="favList" aria-hidden="false">
          <!-- favorite chips -->
        </div>
      </div>

    </section>

    <footer>
      <span>Made with ‚ù§Ô∏è for small wins</span>
      <span style="opacity:.8">Local-only (no backend) ‚Ä¢ Works offline</span>
    </footer>
  </div>

  <script>
    // === Data: moods and thoughts ===
    const data = {
      happy: {
        name: 'Happy', emoji: 'üòä', class: 'bg-happy',
        list: [
          'Your smile is proof that small joys matter. Keep shining.',
          'The energy you give returns ‚Äî spread it today.',
          'Good vibes today ‚Üí momentum tomorrow.'
        ]
      },
      sad: {
        name: 'Sad', emoji: 'üòî', class: 'bg-sad',
        list: [
          'It‚Äôs okay to feel low. Emotions pass ‚Äî you will too.',
          'Healing takes time. Be patient with the process.',
          'Tears water growth ‚Äî you‚Äôre growing even now.'
        ]
      },
      tired: {
        name: 'Tired', emoji: 'üò©', class: 'bg-tired',
        list: [
          'Rest if you must, but don‚Äôt quit. Come back when you are ready.',
          'You‚Äôre tired because you are trying ‚Äî that already shows courage.',
          'Small steps today will make tomorrow easier.'
        ]
      },
      lazy: {
        name: 'Lazy', emoji: 'ü•±', class: 'bg-lazy',
        list: [
          'Start for 5 minutes ‚Äî momentum will handle the rest.',
          'Do one small thing: future you will thank present you.',
          'You don‚Äôt need motivation to start. Start to get motivation.'
        ]
      },
      study: {
        name: 'Study Mode', emoji: 'üìö', class: 'bg-study',
        list: [
          'Open the book for 2 minutes and you‚Äôll often continue.',
          'Consistency beats cramming. Make one page a habit.',
          'Study a little daily; success compounds.'
        ]
      },
      stress: {
        name: 'Stressed', emoji: 'üò∞', class: 'bg-stress',
        list: [
          'Breathe. One thing at a time. You‚Äôve handled worse and survived.',
          'Break tasks into tiny steps ‚Äî then finish one.',
          'Stress is temporary. Focus on the next small win.'
        ]
      },
      angry: {
        name: 'Angry', emoji: 'üò§', class: 'bg-angry',
        list: [
          'Channel your energy into action, not reaction.',
          'Let success be your response.',
          'Take 3 deep breaths, then choose your next move.'
        ]
      },
      heartbroken: {
        name: 'Heartbroken', emoji: 'üíî', class: 'bg-heart',
        list: [
          'Pain heals and teaches; you‚Äôll love again, wiser and stronger.',
          'You are whole even when you feel broken.',
          'This chapter closes ‚Äî new pages await.'
        ]
      }
    };

    // === App state ===
    let currentMoodKey = null;
    let currentThought = '';

    // === Helpers ===
    function pickRandom(arr){return arr[Math.floor(Math.random()*arr.length)]}

    function renderMoodButtons(){
      const grid = document.getElementById('moodGrid');
      grid.innerHTML = '';
      Object.keys(data).forEach(key => {
        const item = data[key];
        const btn = document.createElement('button');
        btn.className = 'mood-btn';
        btn.setAttribute('data-key', key);
        btn.setAttribute('aria-pressed','false');
        btn.innerHTML = `<div style="display:flex;align-items:center;gap:10px"><div class="mood-emoji">${item.emoji}</div><div><div class="mood-name">${item.name}</div><div class="mood-desc">Click to get a thought</div></div></div>`;
        btn.addEventListener('click', ()=>selectMood(key, btn));
        grid.appendChild(btn);
      })
    }

    function selectMood(key, btnEl){
      currentMoodKey = key;
      // update pressed states
      document.querySelectorAll('.mood-btn').forEach(b=>b.setAttribute('aria-pressed','false'));
      btnEl.setAttribute('aria-pressed','true');

      // change app background subtly by adding class to container
      const app = document.getElementById('app');
      // remove existing bg- classes
      Object.values(data).forEach(d => app.classList.remove(d.class));
      app.classList.add(data[key].class);

      generateThought();
    }

    function generateThought(){
      if(!currentMoodKey){
        // if no mood selected pick default
        currentMoodKey = Object.keys(data)[0];
      }
      const mood = data[currentMoodKey];
      const thought = pickRandom(mood.list);
      currentThought = thought;
      document.getElementById('thoughtText').textContent = thought;
      document.getElementById('thoughtSub').textContent = `Mood: ${mood.name} ¬∑ Click 'Save' to keep it`;
      // animate subtle flash
      const card = document.getElementById('outputCard');
      card.animate([{opacity:0.7, transform:'translateY(6px)'}, {opacity:1, transform:'translateY(0)'}], {duration:260, easing:'ease-out'});
    }

    // === Favorites (localStorage) ===
    function loadFavs(){
      const raw = localStorage.getItem('vibefuel-favs');
      try{
        return raw? JSON.parse(raw): [];
      }catch(e){return []}
    }
    function saveFavs(list){localStorage.setItem('vibefuel-favs', JSON.stringify(list));}

    function addFavorite(){
      if(!currentThought) return alert('Generate a thought first.');
      const favs = loadFavs();
      if(favs.includes(currentThought)) return alert('Already in favorites');
      favs.unshift(currentThought);
      if(favs.length>12) favs.pop();
      saveFavs(favs);
      renderFavs();
    }

    function renderFavs(){
      const box = document.getElementById('favList');
      box.innerHTML = '';
      const favs = loadFavs();
      favs.forEach((t, idx) => {
        const chip = document.createElement('div');
        chip.className = 'chip';
        chip.textContent = t.length>40? t.slice(0,40)+'...': t;
        chip.title = t;
        chip.addEventListener('click', ()=>{navigator.clipboard?.writeText(t).then(()=>alert('Copied favorite to clipboard'))});
        box.appendChild(chip);
      })
    }

    // === Copy & Share functions ===
    function copyCurrent(){
      if(!currentThought) return alert('Generate a thought first.');
      navigator.clipboard?.writeText(currentThought).then(()=>{
        alert('Thought copied to clipboard!');
      }).catch(()=>{
        prompt('Copy this text manually:', currentThought);
      })
    }

    function shareCurrent(){
      if(!currentThought) return alert('Generate a thought first.');
      const text = `${currentThought} ‚Äî via VibeFuel`;
      if(navigator.share){
        navigator.share({text}).catch(()=>{});
      } else {
        // fallback: open whatsapp web share
        const wa = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
        window.open(wa,'_blank');
      }
    }

    // === Small UX: date ===
    function setDate(){
      const d = new Date();
      const el = document.getElementById('date');
      el.textContent = d.toLocaleDateString(undefined,{weekday:'short', month:'short', day:'numeric'});
    }

    // === Wire up buttons ===
    document.addEventListener('DOMContentLoaded', ()=>{
      renderMoodButtons();
      setDate();
      renderFavs();

      document.getElementById('genBtn').addEventListener('click', generateThought);
      document.getElementById('saveBtn').addEventListener('click', addFavorite);
      document.getElementById('copyBtn').addEventListener('click', copyCurrent);
      document.getElementById('shareBtn').addEventListener('click', shareCurrent);

      // keyboard support: space to generate
      window.addEventListener('keydown', (e)=>{ if(e.code==='Space'){ e.preventDefault(); generateThought(); } });
    });
  </script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
</body>
</html>
